<div class="section">

  <h4>Lists</h4>

  <div class="sectionTabs">
    <ul>
      <li class="tab"
        *ngFor="let tab of data; let tabIndex = index"
        [class.active]="isSelected(tabIndex) && !newTabModal"
        [class.deleted]="tab.deleted"
        (click)="selectTab(tabIndex)">{{ tab.label }}
      </li>
      <li class="tab addTab" [class.active]="newTabModal" (click)="newTabModal=true;focusNewTabModal()">New</li>      
    </ul>
  </div>

  <div class="tabContents">
    <ng-container *ngFor="let tab of data; let tabIndex = index">
      <ng-template [ngIf]="isSelected(tabIndex) && !newTabModal">
        <div class="tabContent niceScroll">
          <span class="entry checkEntry" [ngClass]="{'hide':entry.finished}" (click)="checkEntry(tabIndex, entryIndex)" *ngFor="let entry of tab.elements; let entryIndex = index">
            <input type="checkbox" [checked]="entry.finished"><label>{{ entry.name }}</label>
          </span>

          <input type="text" #newEntry
            (keyup.enter)="addEntry(tabIndex, newEntry.value); newEntry.value=''"
            class="entry addEntry"
            placeholder="New"
            id=addEntry{{tabIndex}}
          >

          <span (click)="deleteTab(tabIndex)"  class="deleteTab">Delete list</span>
        </div>
      </ng-template>
    </ng-container>
    <div class="tabContent niceScroll" *ngIf="newTabModal">
      <input type="text" #newTab
        minlength="5"
        (keyup.enter)="addTab(newTab.value); newTabModal=false"
        class="entry addEntry"
        placeholder="New list"
        id="newTab"
      >
    </div>
  </div>

</div>